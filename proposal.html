<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="description" content="">
        <title>CSE457 - Final</title>

		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
		<link rel="stylesheet" href="css/styles.css">
    </head>
    <body>
		<nav class="navbar navbar-expand-lg navbar-light bg-light">
			<a class="navbar-brand" href="index.html">STL Crime Map</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item">
						<a class="nav-link" href="index.html">Home</a>
					</li>
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							Source
						</a>
						<div class="dropdown-menu" aria-labelledby="navbarDropdown">
							<a class="dropdown-item" href="proposal.html">Process Book</a>
							<a class="dropdown-item" href="https://github.com/washuvis/crime/" target="_blank">GitHub <i class="fas fa-external-link-alt"></i></a>
						</div>
					</li>
				</ul>
			</div>
		</nav>
		<div class="content">
			<h1>Basic Info</h1>
			<span>
			Crime Map
			<br/>
			Joel Ki – joelki (448565) – joelki@wustl.edu
			<br/>
			Shane Blair – sblair (448740) – sblair@wustl.edu
			<br/>
			<a href="https://github.com/washuvis/crime/">			https://github.com/washuvis/crime/ (Private)</a>
		</span>

			<h1>Background and Motivation</h1>
			<span>
			&nbsp Our initial motivation was thinking back to how many crimes have occurred in our area recently. We live east of Kayaks, which has been a hotspot for many car thefts and burglaries recently. My roommates and I have been very worried about what to do about increasing crime, as WashU’s efforts to curb crime have seem to have no effect. This is understandable, as it is difficult to gather the resources necessary to properly fight crime in multiple locations. This is why we have decided to tackle the problem of dealing with crime around WashU, and we have come to the conclusion that, in order to combat this crime as students, the best thing that we can do is find ways to be safer. We can change our habits and behaviors easily, but there must be a way to know what behaviors are safer than others. This is where the visualization of data can come into play.
			<br/><br/>
			&nbsp WashU does not currently have any way to see much about the crimes that occur in the area. There are crime maps available to see the locations of crimes that occur, but these maps are not focused on WashU, instead they are general municipality crime zones. Further, these crime maps only allow the view of one aspect of crime: location. We believe that there is more to the patterns of crime than just location, and we hope that what we will have to present at the end of the semester for this project will allow users to better understand the patterns of crime in the WashU area by showcasing the data through interaction and discovery.
		</span>

			<h1>Project Objectives</h1>
			<span>
			We hope to answer the questions that follow:
			<ul>
				<li>What crimes are occurring in the WashU area?</li>
				<li>What are ways that these crimes can be visualized, for example by location, by time, by description?</li>
				<li>What is the best way to organize the crimes in a display for the user? Does one of the visualization methods above stand out from the rest?</li>
				<li>What are the trends in the crime data that are most crucial to helping us as students be safe?</li>
				<li>Are there certain locations, times, or items that lead to the highest rates of crime? Are there other aspects of crime other than those three that affect those levels?</li>
			</ul>
			<br/>
			Benefits:
			<ul>
				<li>Improve the safety of students with minimal/no cost to students or the university</li>
				<li>Discovery of trends that could aid in the addition of resources by the police/university</li>
				<li>Better understanding of the nature of crime in our area, in a nondiscriminatory way</li>
			</ul>
		</span>

			<h1>Data</h1>
			<span class="revised">
			Our data will be collected from WashU’s Daily Crime Log and Crime Alerts Archive:
			<ul>
				<li>
					<a href="https://police.wustl.edu/Pages/Daily-Crime-Log-Archive.aspx">https://police.wustl.edu/Pages/Daily-Crime-Log-Archive.aspx</a>
				</li>
				<li>
					<a href="https://police.wustl.edu/Pages/Crime-Alerts-Archive.aspx">https://police.wustl.edu/Pages/Crime-Alerts-Archive.aspx</a>
				</li>
			</ul>
		</span>
			<span>
				Our data is now taken from the St. Louis Metropolitan Police Department (SLMPD) website:
				<ul>
					<li>
						<a href="https://www.slmpd.org/Crimereports.shtml">https://www.slmpd.org/Crimereports.shtml</a>
					</li>
				</ul>
			</span>

			<h1>Data Processing</h1>
			<span>
			&nbsp Both of the sources above provide data in an HTML format. There is no ability to download the format as a CSV or JSON, so this means that we will have to scrape the data from the site and format it ourselves. We expect this to be a moderate task to complete, as both sites require user navigation to reach other portions of the data. We plan to scrape the raw data using Javascript/Python code or libraries, where available. Once we have the raw data, we will have to clean up the fields associated with time/date of the crime and the location of the crime. Currently, the provided locations are vague and not very useful, so we plan to use a geocoding service (like Google Maps API) in order to turn rough searches of street names into actual GPS coordinates. We expect that this will not be the most accurate, but it is the best that we can do given the inaccuracies of the data already present. We also hope to utilize crime descriptions in order to tokenize important words, like articles stolen, in order to categorize crimes. This data processing will also be done in Javascript/Python.
		</span>

			<h1>Visualization Design</h1>
			<div class="indent">
				<h2>Brainstorming</h2>
				<img src="sketches/sketch_1.jpg" width="1000px">
				<br/>
				<h2>Initial Design 1</h2>
				<img src="sketches/sketch_3.jpg" width="1000px">
				<br/>
				<h2>Initial Design 2</h2>
				<img src="sketches/sketch_4.jpg" width="1000px">
				<br/>
				<h2>Initial Design 3</h2>
				<img src="sketches/sketch_2.jpg" width="1000px">
				<br/>
				<h2>Final Design</h2>
				<img src="sketches/sketch_5.jpg" width="1000px">
			</div>

			<h1>Must-Have Features</h1>
			<span>
			Core Features:
			<ul>
				<li>Organization of crimes by location onto a map overlay</li>
				<li>Filtering of crimes by time, date, location region, and type</li>
				<li>Crime statistics by region, type of crime, and time</li>
			</ul>
			<br/>
			Optional Features:
			<ul>
				<li>Filtering of crimes by description keyword</li>
				<li>Sorting of crimes by item stolen or other important keywords</li>
				<li>Organization of crime keywords by uniqueness</li>
			</ul>
		</span>

			<h1>Project Schedule</h1>
			<div class="indent">
			<span>
				March 30:&nbsp Have data scraped from WashU sites and wrangled (date formatted, geocoded)
				<br/><br/>
				April 6:&nbsp Prototype 1 – Data visualized onto a map overlay with basic filtering functionality (time, region)
				<br/><br/>
				April 13:&nbsp Have statistical designs implemented, like region mapping and time scales for each region, along with general trend statistics for crime density and type density
				<br/><br/>
				April 20:&nbsp Prototype 2 – Integrate navigation between general trend statistics and mapping. Implement hovers for region statistics and more advanced filtering
				<br/><br/>
				April 27:&nbsp Sorting/filtering of crimes by description keywords, determine uniqueness of crime description keywords and allow filtering by that if possible
			</span>
			</div>

			<h1>Milestone 1</h1>
			<div class="indent">
				<h4>Completed</h4>
				<ul>
					<li>
						Gather data from the SLMPD website. We realized with Professor Ottley's suggestion, we realize that we could not gather geolocation data from WUSTL's crime archives. This data is much more complete, allowing us to map properly.
					</li>
					<li>
						Convert coordinates from State Plane Coordinate System to traditional LatLong GPS Coordinates (WGS84). Standardize crime types following the Uniform Crime Reporting codes
						<ul>
							<li><strong>Note:</strong> this was the most complicated task of this Milestone, due to the fact that the coordinates given by SLMPD were incorrect. They documented that their coordinates were based on the NAD83 standard, a State Place Coordinate System
								that is separated into different regions. However, a region was not specified. There are regions available for Missouri (EPSG:2815 - EPSG:2817), but all of these regions placed our coordinates somewhere in Michigan. We ended up using an algorithm here
								to determine the region with the closest coordinates to St. Louis and translating the points from there. Transforming these coordinates in Python using Pyproj was very resource intensive here, taking over 20 minutes for just 1000 points.
							</li>
						</ul>
					</li>
					<li>
						Layout markers on the map for each crime data point and establish clusters to prevent lag. We have over 3000 data points at this point and this can cause our systems to lag heavily.
					</li>
				</ul>
			</div>

			<h1>Milestone 2</h1>
			<div class="indent">
				<h4>Completed</h4>
				<ul>
					<li>Complete compiling and gathering data from the last 12 months. We now have over 40000 data points in our collection.
					</li>
					<li>
						Restructure our layout to better fit the completion of our goals. Our site is now separated into two main panes, one for the map and one for the dynamic time scaled bar chart, plotting the frequency of crimes in the region that is hovered over. We felt this design
						change will allow for the user to interact with the data on the map without having to navigate to another view.
						<ul>
							<li><img src="sketches/sketch_final.jpg" width="650px"></li>
						</ul>
					</li>
					<li>
						Clusters zoom in to the region on click, displaying the distributions of regions within the selected region. Hover also shows the bounds of the region as created with Marker Clusters.
					</li>
					<li>
						Replace default cluster icons with our own pie charts for each region. Each region's data set is then categorized in the pie chart, which can be seen at any level of zoom on the map. These pie charts update with changes to the data set or changes to the zoom.
					</li>
					<li>
						On each cluster hover, create a time scale for the frequency of crime in that region. Users will be able to see the distribution of crimes over the course of 24 hours, as taken from the specified data set.
					</li>
					<li>
						Allow for filtering by crime type via a dropdown. Selected type then filters the map, which will then allow the user to view time distributions based on that specific crime.
					</li>
					<li>
						Allow for month filtering, so that the user can select a month to view. Month selector is a sliding range, so that the map can update in real time and display the total distributions for all crimes (or filtered crimes) as the user changes selections.
						<ul>
							Crime type filtering and month filtering work together with each other here.
						</ul>
					</li>
					<li>
						Create a legend for the crime type distributions
					</li>
				</ul>

				<span><strong>Note</strong> here about data: We noticed that certain types of crimes, specifically crimes of sexual nature, were being filtered out of our map completely. We attributed this to a decision made when parsing the data to throw out values that have
				coordinates entered as "(0, 0)". Looking back at our data, we noticed that most rape and sexual assault had an entered coordinate of (0, 0). This could be due to the fact that these types of crimes do not have a set location that can be reported in most cases,
					or maybe there is a law enforcement procedure in place to omit the recording of the location. There could be other crime types with this issue as well, and we plan to investigate before our final submission.
				</span>

			</div>
		</div>

		<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	</body>
</html>